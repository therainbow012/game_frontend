<div class="sub-header py-5">
  <div class="container py-5">
    <div class="row py-5">
      <div class="col-12">
        <h2 class="fonts-48 text-center txt-white bold mb-4">Color Prediction</h2>
        <nav class="fonts-18 d-flex justify-content-center" aria-label="breadcrumb">
          <ol class="breadcrumb text-white">
            <li class="breadcrumb-item text-white"><a class="text-white" style="text-decoration: none;"
                href="#">Home</a></li>
            <li class="breadcrumb-item text-white" aria-current="page">Color Prediction</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</div>
<div class="color-section pt-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-10 color-bg rounded justify-content-center">
        <div class="row p-5">
          <!-- game-inner -->
          <div class="col-12 game-inner position-relative rounded mb-5"
            style="box-shadow: -3.828px -3.828px 6px 0px rgba(255, 200, 39, 0.4), 3px 5px 8px 0px rgba(255, 82, 1, 0.2);">
            <div class="row p-4 position-relative" style="z-index: 1;">
              <div class="col-6">
                <p class="d-flex align-items-center btn-bg fonts-18 semibold rounded p-2 py-3 mb-0"
                  (click)="openResult('red', 'red', '200')">
                  <svg xmlns="http://www.w3.org/2000/svg" class="mx-3" height="24" width="24" viewBox="0 0 24 24">
                    <title>wallet-bifold-outline</title>
                    <path
                      d="M15.5 15.5C16.33 15.5 17 14.83 17 14C17 13.17 16.33 12.5 15.5 12.5C14.67 12.5 14 13.17 14 14C14 14.83 14.67 15.5 15.5 15.5M7 3H17C18.11 3 19 3.9 19 5V7C20.11 7 21 7.9 21 9V19C21 20.11 20.11 21 19 21H7C4.79 21 3 19.21 3 17V7C3 4.79 4.79 3 7 3M17 7V5H7C5.9 5 5 5.9 5 7V7.54C5.59 7.2 6.27 7 7 7H17M5 17C5 18.11 5.9 19 7 19H19V9H7C5.9 9 5 9.9 5 11V17Z"
                      fill="#000" />
                  </svg>
                  Balance : Rs. {{ walletAmount || 0 }}
                </p>
              </div>
              <div class="col-6">
                <button class="btn btn-bg w-100 py-3 semibold fonts-18" routerLink="/game/wallet">Recharge</button>
              </div>
            </div>
          </div>
          <!-- game-inner  -->
          <div class="col-12 game-inner position-relative rounded mb-5"
            style=" box-shadow: -3.828px -3.828px 6px 0px rgba(255, 200, 39, 0.4), 3px 5px 8px 0px rgba(255, 82, 1, 0.2);">
            <div class="row p-4  border-bottom position-relative" style="z-index: 1;">
              <div class="col-12 ">
                <div class="d-flex align-items-center justify-content-between">
                  <div>
                    <p class="fonts-20 semibold mb-0">Period ID: <span class="txt-primary semibold fonts-22 px-2">
                        2023924852</span></p>
                  </div>
                  <div>
                    <p class="fonts-20 semibold mb-0">Count Down: <span class="txt-primary semibold fonts-24 px-2"> {{
                        display || "00 : 00"}}
                      </span></p>
                  </div>
                </div>
              </div>
            </div>
            <div class="row p-4 position-relative" style="z-index: 1;">
              <div class="col-12 text-white">
                <div class="d-flex align-items-center justify-content-between my-4">
                  <div>
                    <button (click)="selectColor('green', 'green1')"
                      class="btn text-white rounded py-2 semibold px-5 border-0" style="background-color: #008000;"
                      [ngClass]="{'active' : activeColor == 'green1'}">Tap
                      Green</button>
                  </div>
                  <div>
                    <button (click)="selectColor('red', 'red1')"
                      class="btn text-white rounded py-2 semibold px-5 border-0" style="background-color: #ff0000;"
                      [ngClass]="{'active' : activeColor == 'red1'}">Tap Red</button>
                  </div>
                  <div>
                    <button (click)="selectColor('orange', 'orange1')"
                      class="btn text-white rounded py-2 semibold px-5 border-0" style="background-color: #FFA500;"
                      [ngClass]="{'active' : activeColor == 'orange1'}">Tap
                      Orange</button>
                  </div>
                  <div>
                    <button (click)="selectColor('violate', 'violate1')"
                      class="btn text-white rounded py-2 semibold px-5 border-0" style="background-color: #7F00FF;"
                      [ngClass]="{'active' : activeColor == 'violate1'}">Tap violate
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-10 mx-auto text-white">
                <div class="d-flex align-items-center justify-content-between">
                  <div>
                    <button (click)="selectColor('green', 'green')"
                      class="btn btn-circle text-white rounded semibold border-0 my-4"
                      style="background-color: #008000;" [ngClass]="{'active' : activeColor == 'green'}">1</button>
                  </div>
                  <div>
                    <!-- <button (click)="selectColor()" class="btn btn-circle text-white rounded semibold border-0 my-4"
                      style="background-image: linear-gradient(160deg, #FFA500 0%, #ff0000 100%);
                                        ">2</button> -->
                    <button (click)="selectColor('red', 'red')"
                      class="btn btn-circle text-white rounded semibold border-0 my-4"
                      style="background-color: #ff0000;" [ngClass]="{'active' : activeColor == 'red'}">2</button>
                  </div>
                  <div>
                    <button (click)="selectColor('orange', 'orange')"
                      class="btn btn-circle text-white rounded semibold border-0 my-4"
                      style="background-color: #FFA500;" [ngClass]="{'active' : activeColor == 'orange'}">3</button>

                  </div>
                  <div>
                    <button (click)="selectColor('violate', 'violate')"
                      class="btn btn-circle text-white rounded semibold border-0 my-4"
                      style="background-color: #7F00FF;" [ngClass]="{'active' : activeColor == 'violate'}">4</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="showCoin" class="col-12 game-inner position-relative rounded mb-5"
            style="box-shadow: -3.828px -3.828px 6px 0px rgba(255, 200, 39, 0.4), 3px 5px 8px 0px rgba(255, 82, 1, 0.2);">
            <div class="row p-4 mb-5 position-relative" style="z-index: 1;">
              <div *ngIf="!gameStarted" class="coin-wrapper">
                <div class="coin" (click)="selectAmount(10)">
                  <div class="front">
                    <span class="currency">₹10</span>
                  </div>
                </div>
                <div class="coin" (click)="selectAmount(20)">
                  <div class="front">
                    <span class="currency">₹20</span>
                  </div>
                </div>
                <div class="coin" (click)="selectAmount(50)">
                  <div class="front">
                    <span class="currency">₹50</span>
                  </div>
                </div>
                <div class="coin" (click)="selectAmount(100)">
                  <div class="front">
                    <span class="currency">₹100</span>
                  </div>
                </div>
                <div class="coin" (click)="selectAmount(200)">
                  <div class="front">
                    <span class="currency">₹200</span>
                  </div>
                </div>
              </div>
              <div *ngIf="gameStarted" style="text-align: center;">
                <h3 style="color: rgb(241, 104, 104);">Game Stated waiting for result {{display}}</h3>
              </div>
            </div>
            <div *ngIf="!gameStarted" class="row p-4 position-relative" style="z-index: 1;">
              <div class="d-flex justify-content-center align-items-center" style="gap:40px">
                <input type="text" [formControl]="enterGameAmount" style="flex: 0.4; height: 44px; min-width:240px"
                  class="form-control fonts-16" />
                <button (click)="startGame()" class="btn btn-bg w-50 py-2 semibold fonts-18"
                  style="flex: 0.1; min-width:80px">Start</button>
              </div>
              <br><br><br>
              <p class="fonts-16 txt-red text-center" *ngIf="amountError">
                {{amountError}}
              </p>
            </div>
          </div>
          <div class="col-12 game-inner position-relative rounded"
            style="box-shadow: -3.828px -3.828px 6px 0px rgba(255, 200, 39, 0.4), 3px 5px 8px 0px rgba(255, 82, 1, 0.2);">
            <div class="row py-5 p-4 position-relative" style="z-index: 1;">
              <div class="table-responsive">
                <table class="table table-bordered mb-0">
                  <thead>
                    <tr class="btn-bg">
                      <th class="text-center py-3" scope="col">Txt</th>
                      <th class="text-center py-3" scope="col">Date</th>
                      <th class="text-center py-3" scope="col">Period ID</th>
                      <th class="text-center py-3" scope="col">Amount</th>
                      <th class="text-center py-3" scope="col">Tail Number</th>
                      <th class="text-center py-3" scope="col">Colors</th>
                    </tr>
                  </thead>
                  <tr *ngFor="let item of gameHistory">
                    <td class="text-center">1</td>
                    <td class="text-center">{{item?.game_prediction?.created_at | date : 'dd-MM-YYYY hh:m a'}}</td>
                    <td class="text-center">{{item?.game_prediction?.id}}</td>
                    <td class="text-center">{{item?.amount}}</td>
                    <td class="text-center">{{item?.game_color}}</td>
                    <td class="text-center">
                      <button
                        class="btn btn-circle  rounded-circle semibold border-0 my-4">{{item?.result_color}}</button>
                    </td>
                  </tr>
                  <tr *ngIf="gameHistory?.length == 0">
                    <td class="text-center" colspan="5">No Record Found.</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog  modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body pb-5">
        <div class="qr-outer d-flex justify-content-center mx-auto">
          <img class="h-100 w-100 mx-auto" src="../../../../assets/img/qrcode.png" alt="qrcode">
        </div>
        <p class="fonts-18 text-center semibold mb-0">4152562@ybl</p>
      </div>
    </div>
  </div>
</div>
